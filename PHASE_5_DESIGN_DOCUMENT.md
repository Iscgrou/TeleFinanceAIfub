# ุทุฑุญ ุฌุงูุน ูุฑุญูู 5: ุจูุจูุฏ ุณุณุชู ูุงฺฉุชูุฑูุง

## ๐ ูุฏู ฺฉู
ุจูุจูุฏ ุณุณุชู ูุงฺฉุชูุฑูุง ุจุง ูุงุจูุชโูุง ูพุดุฑูุชู ููุงุดุ ุชููุฏุ ู ุชูุธูุงุช

## ๐ฏ ุงูุฏุงู ุฏูู

### 1. ููุงุด ุฑุฒ ุฌุฒุฆุงุช ูุงฺฉุชูุฑ ุจุง ุชุงุฑุฎ ุดูุณ
**ูุถุนุช ูุนู**: 
- ุฌุฏูู `invoiceDetails` ููุฌูุฏ ุงุณุช
- ุชุงุจุน `generatePersianDate()` ูพุงุฏูโุณุงุฒ ุดุฏู

**ูุงุฒโูุง ูพุงุฏูโุณุงุฒ**:
- [ ] Component ููุงุด ุฌุฒุฆุงุช ูุงฺฉุชูุฑ ุฏุฑ ูพูุฑุชุงู ููุงูุฏฺฏุงู
- [ ] ููุงุด ุชุงุฑุฎโูุง ุดูุณ ุฏุฑ ูุฑูุช ุฒุจุง
- [ ] ุฌุฒุฆุงุช ฺฉุงูู ูุฑ ูุงฺฉุชูุฑ (ุชุงุฑุฎุ ูุจูุบุ ุชูุถุญุงุช)
- [ ] ุชุงุฑุฎฺู ูุงฺฉุชูุฑูุง ุจุง ููุชุฑ ุชุงุฑุฎ

### 2. ุงุชุตุงู ุชูุธูุงุช ูุงูุจ ูุงฺฉุชูุฑ ุจู ุชููุฏ ูุงฺฉุชูุฑ
**ูุถุนุช ูุนู**:
- ููุฏ `invoiceTemplate` ุฏุฑ ุชูุธูุงุช ููุฌูุฏ ุงุณุช
- ุณุณุชู ุชููุฏ ูุงฺฉุชูุฑ PNG ููุฌูุฏ ุงุณุช

**ูุงุฒโูุง ูพุงุฏูโุณุงุฒ**:
- [ ] ุฎูุงูุฏู ูุงูุจ ุงุฒ ุชูุธูุงุช ุณุณุชู
- [ ] ุงุนูุงู ูุงูุจ ุจู ูุงฺฉุชูุฑ PNG
- [ ] ุชุณุช ุชููุฏ ูุงฺฉุชูุฑ ุจุง ูุงูุจ ุฌุฏุฏ
- [ ] ููุงุด ูพุดโููุงุด ูุงฺฉุชูุฑ

### 3. ูพุดโููุงุด ูุงฺฉุชูุฑ ุฏุฑ ุชูุธูุงุช  
**ูุถุนุช ูุนู**:
- ุตูุญู Settings ููุฌูุฏ ุงุณุช
- ูุฑุงุดฺฏุฑ ูุงูุจ ูุงฺฉุชูุฑ ููุฌูุฏ ุงุณุช

**ูุงุฒโูุง ูพุงุฏูโุณุงุฒ**:
- [ ] ฺฉุงููพูููุช ูพุดโููุงุด ุฒูุฏู
- [ ] ุชููุฏ ูุงฺฉุชูุฑ ููููู
- [ ] ููุงุด ุชุบุฑุงุช ุจูุงุฏุฑูฺฏ
- [ ] ุฏฺฉูู ุฐุฎุฑู ู ุชุฃุฏ ูุงูุจ

## ๐ ุจุฑูุงููโุฑุฒ ูพุงุฏูโุณุงุฒ

### ูุฑุญูู 5.1: ููุงุด ุฑุฒ ุฌุฒุฆุงุช ูุงฺฉุชูุฑ
1. **InvoiceDetails Component**: ููุงุด ุฌุฒุฆุงุช ฺฉุงูู
2. **Persian Calendar Integration**: ุชุงุฑุฎโูุง ุดูุณ ุฒุจุง
3. **Invoice History View**: ุชุงุฑุฎฺู ู ููุชุฑ
4. **Mobile Responsive**: ุณุงุฒฺฏุงุฑ ุจุง ููุจุงู

### ูุฑุญูู 5.2: ุงุชุตุงู ูุงูุจ ุจู ุชููุฏ ูุงฺฉุชูุฑ
1. **Template Engine**: ุฎูุงูุฏู ูุงูุจ ุงุฒ ุชูุธูุงุช
2. **Invoice Generator Enhancement**: ุงุนูุงู ูุงูุจ
3. **PNG Generation Update**: ุชููุฏ ุจุง ูุงูุจ ุฌุฏุฏ
4. **API Integration**: ุงุชุตุงู ฺฉุงูู ุณุฑูุณโูุง

### ูุฑุญูู 5.3: ูพุดโููุงุด ุฏุฑ ุชูุธูุงุช
1. **Live Preview Component**: ูพุดโููุงุด ุฒูุฏู
2. **Sample Invoice Generator**: ุชููุฏ ูุงฺฉุชูุฑ ููููู
3. **Template Validation**: ุงุนุชุจุงุฑุณูุฌ ูุงูุจ
4. **Save & Apply**: ุฐุฎุฑู ู ุงุนูุงู ุชุบุฑุงุช

## ๐ง ุฌุฒุฆุงุช ูู

### Database Schema
```typescript
// ุฌุฏูู invoiceDetails (ููุฌูุฏ)
{
  id: number,
  invoiceId: number,
  persianDate: string,
  persianMonth: string, 
  persianYear: string,
  description: string,
  notes: string
}

// ุฌุฏูู systemSettings (ููุฌูุฏ)
{
  invoiceTemplate: string, // HTML/CSS template
  representativePortalTexts: string
}
```

### API Endpoints ููุฑุฏ ูุงุฒ
- `GET /api/invoices/:id/details` โ (ููุฌูุฏ)
- `POST /api/invoices/:id/details` โ (ููุฌูุฏ)
- `POST /api/invoices/:id/preview` โ (ุฌุฏุฏ)
- `GET /api/settings/invoice-template` โ (ุฌุฏุฏ)
- `POST /api/settings/invoice-template` โ (ุฌุฏุฏ)

### Frontend Components ููุฑุฏ ูุงุฒ
- `InvoiceDetailsView.tsx` โ (ุฌุฏุฏ)
- `InvoicePreview.tsx` โ (ุฌุฏุฏ)
- `TemplateEditor.tsx` โ (ุจูุจูุฏ ููุฌูุฏ)
- `PersianCalendar.tsx` โ (ุฌุฏุฏ)

## โ ูุนุงุฑูุง ุชฺฉูู

### ูุฑุญูู 5.1
- [x] ูุงฺฉุชูุฑ ุชุณุช ุงุฌุงุฏ ุดุฏู โ
- [x] ุฌุฒุฆุงุช ูุงฺฉุชูุฑ ุจุง ุชุงุฑุฎ ุดูุณ ููุงุด ุฏุงุฏู ุดูุฏ โ
- [x] InvoiceDetailsView component ุงุฌุงุฏ ุดุฏ โ
- [x] Persian date conversion ุฏุฑุณุช ฺฉุงุฑ ูโฺฉูุฏ โ
- [x] Modal ููุงุด ุฌุฒุฆุงุช ุฏุฑ RepresentativePortal โ
- [ ] ุชุงุฑุฎฺู ูุงฺฉุชูุฑูุง ูุงุจู ูุดุงูุฏู ุจุงุดุฏ (ุฏุฑ ุญุงู ูพุงุฏูโุณุงุฒ)
- [ ] ููุชุฑูุง ุชุงุฑุฎ ฺฉุงุฑ ฺฉูุฏ

### ูุฑุญูู 5.2  
- [ ] ูุงูุจ ุงุฒ ุชูุธูุงุช ุฎูุงูุฏู ุดูุฏ
- [ ] ูุงฺฉุชูุฑ PNG ุจุง ูุงูุจ ุฌุฏุฏ ุชููุฏ ุดูุฏ
- [ ] ุชุณุช ฺฉุงูู ุชููุฏ ูุงฺฉุชูุฑ
- [ ] ุฎุทุงูุง ูุงูุจ ูุฏุฑุช ุดูุฏ

### ูุฑุญูู 5.3
- [ ] ูพุดโููุงุด ุฒูุฏู ฺฉุงุฑ ฺฉูุฏ
- [ ] ูุงฺฉุชูุฑ ููููู ุชููุฏ ุดูุฏ
- [ ] ุฐุฎุฑู ูุงูุจ ุจุฏูู ุฎุทุง
- [ ] ุชุบุฑุงุช ููุฑ ุงุนูุงู ุดูุฏ

## ๐งช ุงุณุชุฑุงุชฺ ุชุณุช

### Unit Tests
- ุชุณุช ุชููุฏ ุชุงุฑุฎ ุดูุณ
- ุชุณุช ุฎูุงูุฏู ูุงูุจ ุงุฒ ุชูุธูุงุช
- ุชุณุช ุชููุฏ ูุงฺฉุชูุฑ PNG

### Integration Tests  
- ุชุณุช ฺฉุงูู ูุฑุขูุฏ ุชููุฏ ูุงฺฉุชูุฑ
- ุชุณุช ุฐุฎุฑู ู ุจุงุฒุงุจ ูุงูุจ
- ุชุณุช ููุงุด ุฌุฒุฆุงุช ุฏุฑ ูพูุฑุชุงู

### User Experience Tests
- ุชุณุช ูุงฺฉูุดโฺฏุฑุง ููุจุงู
- ุชุณุช ุณุฑุนุช ุจุงุฑฺฏุฐุงุฑ ูพุดโููุงุด
- ุชุณุช ูุถูุญ ู ฺฉูุช ูุงฺฉุชูุฑ PNG

---

**ุดุฑูุน ูพุงุฏูโุณุงุฒ**: ุขูุงุฏู ุดุฑูุน ูุฑุญูู 5.1
**ุฒูุงู ุจุฑุขูุฑุฏ ุดุฏู**: 45-60 ุฏููู ุจุฑุง ุชฺฉูู ฺฉุงูู
**ุงูููุช**: ุจุงูุง - ุจุฎุด ฺฉูุฏ ุณุณุชู ูุงู