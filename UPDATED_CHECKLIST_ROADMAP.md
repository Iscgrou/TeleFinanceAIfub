# چک‌لیست و نقشه راه بروزرسانی شده - 20 جولای 2025

## 🎯 وضعیت کلی: **فاز 1 کامل شد - آماده برای فاز 2**

---

## ✅ **فاز 1: CRUD عملیات اصلی (کامل شده)**

### عملیات نمایندگان
- [x] افزودن نماینده جدید 
- [x] ویرایش اطلاعات نماینده
- [x] حذف نماینده
- [x] افزایش بدهی نماینده
- [x] کاهش بدهی نماینده
- [x] مهاجرت داده‌های قدیمی (199 نماینده بروزرسانی شد)

### عملیات همکاران فروش
- [x] افزودن همکار فروش جدید
- [x] ویرایش اطلاعات همکار فروش
- [x] حذف همکار فروش
- [x] تخصیص تصادفی به نمایندگان

### عملیات فاکتورها
- [x] ایجاد فاکتور جدید
- [x] مشاهده لیست فاکتورها
- [x] مشاهده جزئیات فاکتور
- [x] تولید تصویر PNG فاکتور

### رفع مشکلات فنی
- [x] خطای JSON parsing در apiRequest
- [x] مشکل PUT/PATCH در فرم‌ها
- [x] هماهنگی schema backend/frontend
- [x] تنظیم همکار فروش پیش‌فرض

---

## 🔄 **فاز 2: قابلیت‌های پیشرفته (فعلی)**

### 2.1 صفحه تنظیمات (Settings)
**اولویت: بالا**
- [ ] طراحی رابط کاربری تنظیمات
- [ ] زبانه قالب فاکتور (Invoice Template)  
- [ ] زبانه پردازش فایل Marzban
- [ ] زبانه واردات دسته‌جمعی نمایندگان
- [ ] زبانه پاکسازی داده‌ها

### 2.2 جستجوی سراسری (Global Search)
**اولویت: متوسط**
- [ ] کادر جستجو در sidebar
- [ ] جستجو در نمایندگان
- [ ] جستجو در فاکتورها  
- [ ] جستجو در همکاران فروش
- [ ] نتایج زنده (Live Results)

### 2.3 پورتال نمایندگان
**اولویت: متوسط**
- [ ] صفحه عمومی نماینده (Public Portal)
- [ ] نمایش فاکتورها بدون login
- [ ] تاریخچه پرداخت‌ها
- [ ] لینک اختصاصی برای هر نماینده

---

## 🔄 **فاز 3: گزارشات و تحلیلات**

### 3.1 صفحه گزارش‌ها (Reports)
- [ ] گزارش سنی بدهی‌ها (AR Aging)
- [ ] گزارش کمیسیون همکاران فروش
- [ ] گزارش عملکرد نمایندگان  
- [ ] خروجی CSV/PDF

### 3.2 بهبود داشبورد
- [ ] نمودار فروش ماهانه  
- [ ] نمایندگان برتر ماه
- [ ] فاکتورهای سررسید گذشته
- [ ] فعالیت‌های اخیر

---

## 🔄 **فاز 4: عملیات پیشرفته**

### 4.1 عملیات گروهی (Bulk Operations)
- [ ] صدور گروهی فاکتور (Bulk Invoice Wizard)
- [ ] واردات دسته‌جمعی نمایندگان
- [ ] حذف گروهی فاکتورها

### 4.2 ردگیری تغییرات (Audit Trail)
- [ ] ثبت خودکار تمام عملیات
- [ ] جدول فعالیت‌های سیستم
- [ ] فیلتر بر اساس کاربر/تاریخ/نوع عملیات

---

## 🔄 **فاز 5: قابلیت‌های تخصصی**

### 5.1 پردازش فایل Marzban
- [ ] آپلود فایل JSON usage
- [ ] تحلیل مصرف هر نماینده
- [ ] محاسبه خودکار بر اساس تعرفه
- [ ] صدور فاکتور خودکار

### 5.2 مدیریت پرداخت‌ها
- [ ] ثبت پرداخت جدید
- [ ] تخصیص پرداخت به فاکتورها
- [ ] دفتر حساب (Ledger) برای هر نماینده

---

## 🔄 **فاز 6: تکمیل UI/UX**

### 6.1 رابط کاربری
- [ ] حالت تاریک (Dark Mode) کامل
- [ ] نمای کارتی برای نمایندگان
- [ ] انیمیشن‌های محلات
- [ ] بهبود responsive design

### 6.2 پیشرفته‌های عملیاتی
- [ ] دستیار هوش مصنوعی (Chat Bot)
- [ ] اعلان‌های real-time
- [ ] یادآورهای خودکار

---

## 📊 **آمار فعلی سیستم:**
- ✅ **200 نماینده** (همه با پروفایل کامل)
- ✅ **2 همکار فروش** فعال
- ✅ **صفر فاکتور** معوقه فعلی
- ✅ **تمام عملیات CRUD** کار می‌کند

---

## 🎯 **موارد باقی‌مانده (اولویت‌بندی شده):**

### **اولویت فوری:**
1. **صفحه تنظیمات** - مورد نیاز فوری برای پردازش فایل‌های Marzban
2. **جستجوی سراسری** - بهبود کاربری

### **اولویت متوسط:**
3. **پورتال نمایندگان** - شفافیت مالی
4. **گزارشات** - تصمیم‌گیری مدیریتی

### **اولویت پایین:**
5. **عملیات گروهی** - راحتی کاربری  
6. **UI/UX پیشرفته** - بهبود تجربه کاربری

---

**منتظر دستور شما برای ادامه کار هستم. کدام بخش را اولویت می‌دهید؟**